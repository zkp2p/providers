{
  "actionType": "transfer_venmo",
  "authLink": "https://account.venmo.com/?feed=mine",
  "url": "https://account.venmo.com/api/stories?feedType=me&externalId={{SENDER_ID}}",
  "method": "GET",
  "body": "",
  "metadata": {
    "platform": "venmo",
    "urlRegex": "https://account.venmo.com/api/stories\\?feedType=me&externalId=\\S+",
    "method": "GET",
    "fallbackUrlRegex": "",
    "fallbackMethod": "",
    "preprocessRegex": "",
    "transactionsExtraction": {
      "transactionJsonPathListSelector": "$.stories",
      "transactionJsonPathSelectors": {
        "recipient": "$.title.receiver.username",
        "amount": "$.amount",
        "date": "$.date",
        "paymentId": "$.paymentId",
        "currency": "$.currency"
      }
    },
    "proofMetadataSelectors": [
      {
        "type": "jsonPath",
        "value": "$.stories[{{INDEX}}].amount"
      },
      {
        "type": "jsonPath",
        "value": "$.stories[{{INDEX}}].paymentId"
      },
      {
        "type": "jsonPath",
        "value": "$.stories[{{INDEX}}].title.receiver.username"
      }
    ]
  },
  "paramNames": [
    "SENDER_ID"
  ],
  "paramSelectors": [
    {
      "type": "jsonPath",
      "value": "$.stories[{{INDEX}}].title.sender.id"
    }
  ],
  "skipRequestHeaders": [],
  "secretHeaders": [
    "Cookie"
  ],
  "responseMatches": [
    {
      "type": "regex",
      "value": "\"amount\":\"- \\$(?<amount>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"date\":\"(?<date>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"paymentId\":\"(?<paymentId>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"id\":\"(?<receiverId>[^\"]+)\"",
      "hash": true
    },
    {
      "type": "regex",
      "value": "\"subType\":\"(none|business_profile)\""
    }
  ],
  "responseRedactions": [
    {
      "jsonPath": "$.stories[{{INDEX}}].amount",
      "xPath": ""
    },
    {
      "jsonPath": "$.stories[{{INDEX}}].date",
      "xPath": ""
    },
    {
      "jsonPath": "$.stories[{{INDEX}}].paymentId",
      "xPath": ""
    },
    {
      "jsonPath": "$.stories[{{INDEX}}].title.receiver.id",
      "xPath": ""
    },
    {
      "jsonPath": "$.stories[{{INDEX}}].subType",
      "xPath": ""
    }
  ],
  "primusResponseResolves": [
    {
      "keyName": "amt",
      "parsePath": "$.stories[{{INDEX}}].amount"
    },
    {
      "keyName": "date",
      "parsePath": "$.stories[{{INDEX}}].date"
    },
    {
      "keyName": "id",
      "parsePath": "$.stories[{{INDEX}}].paymentId"
    },
    {
      "keyName": "recvId",
      "parsePath": "$.stories[{{INDEX}}].title.receiver.id"
    },
    {
      "keyName": "type",
      "parsePath": "$.stories[{{INDEX}}].subType"
    }
  ],
  "mobile": {
    "includeAdditionalCookieDomains": [],
    "useExternalAction": true,
    "userAgent": {
      "android": "Mozilla/5.0 (Linux; Android 13; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.6367.207 Mobile Safari/537.36",
      "ios": "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.4 Safari/605.1.15"
    },
    "external": {
      "actionLink": "venmo://paycharge?txn=pay&recipients={{RECIPIENT_ID}}&note=üéÅ&amount={{AMOUNT}}",
      "appStoreLink": "https://apps.apple.com/us/app/venmo/id351727428",
      "playStoreLink": "https://play.google.com/store/apps/details?id=com.venmo"
    },
    "login": {
      "usernameSelector": "#email, input[name=\"login_email\"], input[name=\"username\"], input[type=\"email\"], input[data-testid=\"text-input-username\"]",
      "passwordSelector": "#password, input[name=\"login_password\"][type=\"password\"][data-testid=\"text-input-password\"]",
      "nextSelector": "#btnNext, button[data-testid=\"button-next\"], button.next_button[type=\"submit\"]",
      "submitSelector": "#btnLogin, button[data-testid=\"button-submit\"][type=\"submit\"], button.login_button[type=\"submit\"]",
      "revealTimeoutMs": 5000
    }
  }
}
