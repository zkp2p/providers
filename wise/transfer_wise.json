{
  "actionType": "transfer_wise",
  "authLink": "https://wise.com/all-transactions?direction=OUTGOING",
  "url": "https://wise.com/gateway/v3/profiles/{{PROFILE_ID}}/transfers/{{TRANSACTION_ID}}",
  "method": "GET",
  "body": "",
  "metadata": {
    "platform": "wise",
    "urlRegex": "https://wise.com/gateway/v1/profiles/\\S+/activities/list",
    "method": "POST",
    "fallbackUrlRegex": "",
    "fallbackMethod": "",
    "preprocessRegex": "",
    "transactionsExtraction": {
      "transactionJsonPathListSelector": "$",
      "transactionJsonPathSelectors": {
        "amount": "$.primaryAmount",
        "paymentId": "$.resource.id",
        "recipient": "$.title",
        "date": "$.visibleOn",
        "currency": "$.currency"
      }
    },
    "proofMetadataSelectors": [
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].primaryAmount"
      },
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].resource.id"
      },
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].title"
      },
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].visibleOn"
      }
    ]
  },
  "paramNames": [
    "TRANSACTION_ID",
    "PROFILE_ID"
  ],
  "paramSelectors": [
    {
      "type": "jsonPath",
      "value": "$.[{{INDEX}}].resource.id"
    },
    {
      "type": "jsonPath",
      "value": "$.[{{INDEX}}].ownedByProfile"
    }
  ],
  "skipRequestHeaders": [],
  "secretHeaders": [
    "Cookie",
    "X-Access-Token"
  ],
  "responseMatches": [
    {
      "type": "regex",
      "value": "\"id\":(?<paymentId>[0-9]+)"
    },
    {
      "type": "regex",
      "value": "\"state\":\"(?<state>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"state\":\"OUTGOING_PAYMENT_SENT\",\"date\":(?<timestamp>[0-9]+)"
    },
    {
      "type": "regex",
      "value": "\"targetAmount\":(?<targetAmount>[0-9\\.]+)"
    },
    {
      "type": "regex",
      "value": "\"targetCurrency\":\"(?<targetCurrency>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"targetRecipientId\":(?<targetRecipientId>[0-9]+)",
      "hash": true
    }
  ],
  "responseRedactions": [
    {
      "jsonPath": "$.id",
      "xPath": ""
    },
    {
      "jsonPath": "$.state",
      "xPath": ""
    },
    {
      "jsonPath": "$.stateHistory",
      "xPath": ""
    },
    {
      "jsonPath": "$.targetAmount",
      "xPath": ""
    },
    {
      "jsonPath": "$.targetCurrency",
      "xPath": ""
    },
    {
      "jsonPath": "$.targetRecipientId",
      "xPath": ""
    }
  ],
  "mobile": {
    "includeAdditionalCookieDomains": [],
    "userAgent": {
      "android": "Mozilla/5.0 (Linux; Android 13; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.6367.207 Mobile Safari/537.36",
      "ios": "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.4 Safari/605.1.15"
    },
    "useExternalAction": true,
    "external": {
      "actionLink": "transferwise://pay/me/{{RECIPIENT_ID}}",
      "appStoreLink": "https://apps.apple.com/us/app/wise-international-transfers/id612261027",
      "playStoreLink": "https://play.google.com/store/apps/details?id=com.transferwise.android"
    }
  }
}
