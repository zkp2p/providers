{
  "actionType": "transfer_wise",
  "proofEngine": "reclaim",
  "authLink": "https://wise.com/all-transactions?direction=OUTGOING",
  "url": "https://wise.com/gateway/v3/profiles/{{PROFILE_ID}}/transfers/{{TRANSACTION_ID}}",
  "method": "GET",
  "body": "",
  "metadata": {
    "platform": "wise",
    "urlRegex": "https://wise.com/gateway/v1/profiles/\\S+/activities/list",
    "method": "POST",
    "fallbackUrlRegex": "",
    "fallbackMethod": "",
    "preprocessRegex": "",
    "transactionsExtraction": {
      "transactionJsonPathListSelector": "$",
      "transactionJsonPathSelectors": {
        "amount": "$.primaryAmount",
        "paymentId": "$.resource.id",
        "recipient": "$.title",
        "date": "$.visibleOn",
        "currency": "$.currency"
      }
    },
    "proofMetadataSelectors": [
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].primaryAmount"
      },
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].resource.id"
      },
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].title"
      },
      {
        "type": "jsonPath",
        "value": "$.[{{INDEX}}].visibleOn"
      }
    ]
  },
  "paramNames": [
    "TRANSACTION_ID",
    "PROFILE_ID"
  ],
  "paramSelectors": [
    {
      "type": "jsonPath",
      "value": "$.[{{INDEX}}].resource.id"
    },
    {
      "type": "jsonPath",
      "value": "$.[{{INDEX}}].ownedByProfile"
    }
  ],
  "skipRequestHeaders": [],
  "secretHeaders": [
    "Cookie",
    "X-Access-Token"
  ],
  "responseMatches": [
    {
      "type": "regex",
      "value": "\"id\":(?<paymentId>[0-9]+)"
    },
    {
      "type": "regex",
      "value": "\"state\":\"(?<state>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"state\":\"OUTGOING_PAYMENT_SENT\",\"date\":(?<timestamp>[0-9]+)"
    },
    {
      "type": "regex",
      "value": "\"sourceAmount\":(?<sourceAmount>[0-9\\.]+)"
    },
    {
      "type": "regex",
      "value": "\"sourceCurrency\":\"(?<sourceCurrency>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"targetAmount\":(?<targetAmount>[0-9\\.]+)"
    },
    {
      "type": "regex",
      "value": "\"targetCurrency\":\"(?<targetCurrency>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"targetRecipientId\":(?<targetRecipientId>[0-9]+)"
    }
  ],
  "responseRedactions": [
    {
      "jsonPath": "$.id",
      "xPath": ""
    },
    {
      "jsonPath": "$.state",
      "xPath": ""
    },
    {
      "jsonPath": "$.stateHistory",
      "xPath": ""
    },
    {
      "jsonPath": "$.sourceAmount",
      "xPath": ""
    },
    {
      "jsonPath": "$.sourceCurrency",
      "xPath": ""
    },
    {
      "jsonPath": "$.targetAmount",
      "xPath": ""
    },
    {
      "jsonPath": "$.targetCurrency",
      "xPath": ""
    },
    {
      "jsonPath": "$.targetRecipientId",
      "xPath": ""
    }
  ],
  "mobile": {
    "includeAdditionalCookieDomains": [],
    "additionalClientOptions": {
      "cipherSuites": [
        "TLS_CHACHA20_POLY1305_SHA256",
        "TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256",
        "TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256"
      ]
    },
    "userAgent": {
      "android": "Mozilla/5.0 (Linux; Android 13; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.6367.207 Mobile Safari/537.36",
      "ios": "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.4 Safari/605.1.15"
    },
    "useExternalAction": true,
    "external": {
      "actionLink": "https://wise.com/pay/me/{{RECIPIENT_ID}}",
      "appStoreLink": "https://apps.apple.com/us/app/wise-international-transfers/id612261027",
      "playStoreLink": "https://play.google.com/store/apps/details?id=com.transferwise.android"
    },
    "login": {
      "usernameSelector": "#email, input[name=\"email\"][type=\"email\"], input.cs-email[type=\"email\"]",
      "passwordSelector": "#password, input[name=\"password\"][type=\"password\"], input.cs-password[type=\"password\"]",
      "submitSelector": "button[type=\"submit\"]",
      "revealTimeoutMs": 5000
    }
  }
}
