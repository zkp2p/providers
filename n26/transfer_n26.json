{
  "actionType": "transfer_n26",
  "proofEngine": "reclaim",
  "authLink": "https://app.n26.com/",
  "url": "https://app.n26.com/graphql?op=getFeedTransactionQuery",
  "method": "POST",
  "body": "{{BODY}}",
  "metadata": {
    "shouldReplayRequestInPage": true,
    "platform": "n26",
    "urlRegex": "https://app.n26.com/graphql\\?op=getFeedTransactionQuery",
    "method": "POST",
    "fallbackUrlRegex": "",
    "fallbackMethod": "",
    "preprocessRegex": "",
    "transactionsExtraction": {
      "transactionJsonPathListSelector": "",
      "transactionJsonPathSelectors": {
        "recipient": "$.data.transaction.containers[0].body[1].title",
        "amount": "$.data.transaction.containers[0].body[1].amount.money.unscaledAmount",
        "date": "$.data.transaction.containers[0].body[1].subtitle",
        "paymentId": "$.data.transaction.containers[3].body[0].action.params.transactionId",
        "currency": "$.data.transaction.containers[0].body[1].amount.money.currency.code"
      }
    },
    "proofMetadataSelectors": [
      { "type": "jsonPath", "value": "$.data.transaction.containers[0].body[1].amount.money.unscaledAmount" },
      { "type": "jsonPath", "value": "$.data.transaction.containers[0].body[1].amount.money.currency.code" },
      { "type": "jsonPath", "value": "$.data.transaction.containers[0].body[1].title" },
      { "type": "jsonPath", "value": "$.data.transaction.containers[0].body[1].subtitle" },
      { "type": "jsonPath", "value": "$.data.transaction.containers[3].body[0].action.params.transactionId" }
    ]
  },
  "paramNames": [
    "BODY"
  ],
  "paramSelectors": [
    { "type": "regex", "value": "^(.*)$", "source": "requestBody" }
  ],
  "skipRequestHeaders": [
    "Cookie",
    "csrf-token",
    "Accept-Encoding",
    "referer"
  ],
  "secretHeaders": [
    "Cookie",
    "csrf-token"
  ],
  "responseMatches": [
    {
      "type": "regex",
      "value": "\"unscaledAmount\":\"(?<amount>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"uri\":\"\\/transactions\\/feed\\/(?<recipientId>[0-9a-fA-F-]{36})\/[0-9a-fA-F-]{36}(?:\\?[^\\\"]*)?\""
    },
    {
      "type": "regex",
      "value": "\"uri\":\"\\/transactions\\/feed\\/[0-9a-fA-F-]{36}\/(?<transactionId>[0-9a-fA-F-]{36})(?:\\?[^\\\"]*)?\""
    },
    {
      "type": "regex",
      "value": "\"code\":\"(?<currency>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"title\":\"(?<title>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"subtitle\":\"(?<subtitle>[^\"]+)\""
    }
  ],
  "responseRedactions": [
    { "jsonPath": "$.data.transaction.containers[0].body[1].amount.money.unscaledAmount", "xPath": "" },
    { "jsonPath": "$.data.transaction.containers[0].body[1].amount.money.currency.code", "xPath": "" },
    { "jsonPath": "$.data.transaction.containers[0].body[1].title", "xPath": "" },
    { "jsonPath": "$.data.transaction.containers[0].body[1].subtitle", "xPath": "" },
    { "jsonPath": "$.data.transaction.containers[3].body[0].action.params.transactionId", "xPath": "" }
  ],
  "mobile": {
    "includeAdditionalCookieDomains": [],
    "useExternalAction": true,
    "external": {
      "actionLink": "n26://",
      "appStoreLink": "https://apps.apple.com/app/id956857223",
      "playStoreLink": "https://play.google.com/store/apps/details?id=de.number26.android"
    }
  }
}
