{
  "actionType": "transfer_n26",
  "proofEngine": "reclaim",
  "authLink": "https://app.n26.com/",
  "url": "https://app.n26.com/graphql?op=getFeedTransactionQuery",
  "method": "POST",
  "body": "{{BODY}}",
  "metadata": {
    "shouldReplayRequestInPage": true,
    "platform": "n26",
    "urlRegex": "https://app.n26.com/graphql\\?op=getFeedTransactionQuery",
    "method": "POST",
    "fallbackUrlRegex": "",
    "fallbackMethod": "",
    "preprocessRegex": "",
    "transactionsExtraction": {
      "transactionJsonPathListSelector": "",
      "transactionJsonPathSelectors": {
        "recipient": "$.data.transaction.containers[0].body[0].title",
        "amount": "$.data.transaction.containers[0].body[0].amount.money.unscaledAmount",
        "date": "$.data.transaction.containers[0].body[0].subtitle",
        "paymentId": "$.data.transaction.containers[1].body[1].action.tracking.property",
        "currency": "$.data.transaction.containers[0].body[0].amount.money.currency.code"
      }
    },
    "proofMetadataSelectors": [
      {
        "type": "jsonPath",
        "value": "$.data.transaction.containers[0].body[0].amount.money.unscaledAmount"
      },
      {
        "type": "jsonPath",
        "value": "$.data.transaction.containers[0].body[0].amount.money.currency.code"
      },
      {
        "type": "jsonPath",
        "value": "$.data.transaction.containers[0].body[0].title"
      },
      {
        "type": "jsonPath",
        "value": "$.data.transaction.containers[0].body[0].subtitle"
      },
      {
        "type": "jsonPath",
        "value": "$.data.transaction.containers[1].body[1].action.tracking.property"
      },
      {
        "type": "jsonPath",
        "value": "$.data.transaction.containers[1].body[1].action.params.iban"
      }
    ],
    "userInput": {
      "promptText": "Select a transfer below to proceed with authentication",
      "transactionXpath": "//section[@id='feed-pending-module']//div[contains(@class,'q1hbnk3w') and contains(@class,'q1hbnk5w')]"
    }
  },
  "paramNames": [
    "BODY"
  ],
  "paramSelectors": [
    {
      "type": "regex",
      "value": "^(.*)$",
      "source": "requestBody"
    }
  ],
  "skipRequestHeaders": [
    "Cookie",
    "csrf-token",
    "Accept-Encoding",
    "referer"
  ],
  "secretHeaders": [
    "Cookie",
    "csrf-token"
  ],
  "responseMatches": [
    {
      "type": "regex",
      "value": "\"unscaledAmount\":\"(?<amount>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"code\":\"(?<currency>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"subtitle\":\"(?<date>[^\"]+)\""
    },
    {
      "type": "regex",
      "value": "\"property\":\"(?<paymentId>[0-9a-fA-F-]{36})\""
    },
    {
      "type": "regex",
      "value": "\"iban\":\"(?<recipientId>[A-Z]{2}[A-Z0-9]+)\""
    }
  ],
  "responseRedactions": [
    {
      "jsonPath": "$.data.transaction.containers[0].body[0].amount.money.unscaledAmount",
      "xPath": ""
    },
    {
      "jsonPath": "$.data.transaction.containers[0].body[0].amount.money.currency.code",
      "xPath": ""
    },
    {
      "jsonPath": "$.data.transaction.containers[0].body[0].subtitle",
      "xPath": ""
    },
    {
      "jsonPath": "$.data.transaction.containers[1].body[1].action.tracking.property",
      "xPath": ""
    },
    {
      "jsonPath": "$.data.transaction.containers[1].body[1].action.params.iban",
      "xPath": ""
    }
  ],
  "mobile": {
    "includeAdditionalCookieDomains": [],
    "useExternalAction": true,
    "external": {
      "actionLink": "n26://",
      "appStoreLink": "https://apps.apple.com/app/id956857223",
      "playStoreLink": "https://play.google.com/store/apps/details?id=de.number26.android"
    }
  }
}
